# ðŸ”“ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† Ù¾ÙˆØ±Øª Backend Ø¯Ø± Azure

## âœ… ÙˆØ¶Ø¹ÛŒØª ÙØ¹Ù„ÛŒ:
- Backend Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø±ÙˆÛŒ Ø³Ø±ÙˆØ± Ø§Ø¬Ø±Ø§ Ø´Ø¯Ù‡ Ø§Ø³Øª
- Ø¢Ø¯Ø±Ø³ Ø¯Ø§Ø®Ù„ÛŒ: `http://localhost:3000`
- Backend Ø±ÙˆÛŒ `0.0.0.0:3000` Ú¯ÙˆØ´ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯
- Firewall Ø³Ø±ÙˆØ± (UFW) ØºÛŒØ±ÙØ¹Ø§Ù„ Ø§Ø³Øª

## âŒ Ù…Ø´Ú©Ù„:
Ù¾ÙˆØ±Øª 3000 Ø§Ø² Ø®Ø§Ø±Ø¬ Ø³Ø±ÙˆØ± Ù‚Ø§Ø¨Ù„ Ø¯Ø³ØªØ±Ø³ÛŒ Ù†ÛŒØ³Øª (Ø§Ø­ØªÙ…Ø§Ù„Ø§Ù‹ Azure NSG Ø¢Ù† Ø±Ø§ Ø¨Ø³ØªÙ‡ Ø§Ø³Øª)

---

## ðŸ› ï¸ Ø±Ø§Ù‡â€ŒØ­Ù„: Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† Ù¾ÙˆØ±Øª 3000 Ø¯Ø± Azure Portal

### Ù…Ø±Ø­Ù„Ù‡ Û±: ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Azure Portal
1. Ø¨Ù‡ [portal.azure.com](https://portal.azure.com) Ø¨Ø±ÙˆÛŒØ¯
2. ÙˆØ§Ø±Ø¯ Ø­Ø³Ø§Ø¨ Azure Ø®ÙˆØ¯ Ø´ÙˆÛŒØ¯

### Ù…Ø±Ø­Ù„Ù‡ Û²: Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Virtual Machine
1. Ø¯Ø± Search Bar Ø¨Ø§Ù„Ø§ÛŒ ØµÙØ­Ù‡ØŒ Ù†Ø§Ù… VM Ø®ÙˆØ¯ Ø±Ø§ Ø¬Ø³ØªØ¬Ùˆ Ú©Ù†ÛŒØ¯
2. ÛŒØ§ Ø§Ø² Ù…Ù†ÙˆÛŒ Ø³Ù…Øª Ú†Ù¾: **Virtual machines** â†’ Ø§Ù†ØªØ®Ø§Ø¨ VM Ø´Ù…Ø§

### Ù…Ø±Ø­Ù„Ù‡ Û³: Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† Network Security Group (NSG)
1. Ø¯Ø± ØµÙØ­Ù‡ VMØŒ Ø§Ø² Ù…Ù†ÙˆÛŒ Ø³Ù…Øª Ú†Ù¾ **Networking** ÛŒØ§ **Network settings** Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯
2. Ø±ÙˆÛŒ Ù†Ø§Ù… NSG Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯ (Ù…Ø¹Ù…ÙˆÙ„Ø§Ù‹ Ú†ÛŒØ²ÛŒ Ø´Ø¨ÛŒÙ‡ Ø¨Ù‡ `xxx-nsg` Ø§Ø³Øª)

### Ù…Ø±Ø­Ù„Ù‡ Û´: Ø§ÙØ²ÙˆØ¯Ù† Inbound Rule Ø¬Ø¯ÛŒØ¯
1. Ø¯Ø± NSGØŒ Ø±ÙˆÛŒ **Inbound security rules** Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯
2. Ø±ÙˆÛŒ **+ Add** Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯
3. ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø²ÛŒØ± Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:

```
Source: Any (ÛŒØ§ IP Ø®Ø§Øµ Ø´Ù…Ø§)
Source port ranges: *
Destination: Any
Service: Custom
Destination port ranges: 3000
Protocol: TCP
Action: Allow
Priority: 1000 (ÛŒØ§ Ù‡Ø± Ø¹Ø¯Ø¯ Ø¨ÛŒÙ† 100-4096 Ú©Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù†Ø´Ø¯Ù‡)
Name: Allow-Backend-3000
Description: Allow access to Anti-Detect Backend API
```

4. Ø±ÙˆÛŒ **Add** Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯ Ùˆ Ù…Ù†ØªØ¸Ø± Ø¨Ù…Ø§Ù†ÛŒØ¯ ØªØ§ rule Ø§Ø¹Ù…Ø§Ù„ Ø´ÙˆØ¯ (Ø­Ø¯ÙˆØ¯ 30 Ø«Ø§Ù†ÛŒÙ‡)

---

## âœ… ØªØ³Øª Ø¯Ø³ØªØ±Ø³ÛŒ

Ø¨Ø¹Ø¯ Ø§Ø² Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† Ù¾ÙˆØ±ØªØŒ Ø¨Ø§ Ø¯Ø³ØªÙˆØ±Ø§Øª Ø²ÛŒØ± ØªØ³Øª Ú©Ù†ÛŒØ¯:

```bash
# Ø§Ø² ØªØ±Ù…ÛŒÙ†Ø§Ù„ Ù…Ø­Ù„ÛŒ
curl http://108.143.173.222:3000/api

# ÛŒØ§ Ø¨Ø§ Ù…Ø±ÙˆØ±Ú¯Ø± Ø¨Ù‡ Ø§ÛŒÙ† Ø¢Ø¯Ø±Ø³ Ø¨Ø±ÙˆÛŒØ¯:
http://108.143.173.222:3000/api
```

Ø§Ú¯Ø± Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯ØŒ Ø¨Ø§ÛŒØ¯ Ù¾ÛŒØ§Ù…ÛŒ Ø´Ø¨ÛŒÙ‡ Ø¨Ù‡ Ø§ÛŒÙ† Ø¨Ø¨ÛŒÙ†ÛŒØ¯:
```json
{
  "message": "Anti-Detect Browser API",
  "version": "1.0.0",
  "endpoints": [...]
}
```

---

## ðŸ”’ Ù†Ú©Ø§Øª Ø§Ù…Ù†ÛŒØªÛŒ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)

### Ù…Ø­Ø¯ÙˆØ¯ Ú©Ø±Ø¯Ù† Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ IP Ø®Ø§Øµ:
Ø§Ú¯Ø± Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ ÙÙ‚Ø· Ø§Ø² IP Ø®Ø§Øµ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒØ¯:
1. Ø¯Ø± Ù‚Ø³Ù…Øª **Source** Ø¨Ø¬Ø§ÛŒ **Any**ØŒ Ú¯Ø²ÛŒÙ†Ù‡ **IP Addresses** Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯
2. IP Ø¹Ù…ÙˆÙ…ÛŒ Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ (Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ø§ `curl ifconfig.me` Ù¾ÛŒØ¯Ø§ Ú©Ù†ÛŒØ¯)

### Ù†ØµØ¨ Nginx Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Reverse Proxy (Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯):
Ø¨Ø±Ø§ÛŒ Ø§Ù…Ù†ÛŒØª Ø¨ÛŒØ´ØªØ± Ùˆ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² HTTPSØŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯:
1. Nginx Ù†ØµØ¨ Ú©Ù†ÛŒØ¯
2. Backend Ø±Ø§ Ø±ÙˆÛŒ `127.0.0.1:3000` Ù…Ø­Ø¯ÙˆØ¯ Ú©Ù†ÛŒØ¯
3. Nginx Ø±Ø§ Ø±ÙˆÛŒ Ù¾ÙˆØ±Øª 80/443 Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ú©Ù†ÛŒØ¯
4. SSL certificate Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯

---

## ðŸ“‹ Ú†Ú©â€ŒÙ„ÛŒØ³Øª Ù†Ù‡Ø§ÛŒÛŒ

- [ ] Ù¾ÙˆØ±Øª 3000 Ø¯Ø± Azure NSG Ø¨Ø§Ø² Ø´Ø¯Ù‡
- [ ] Backend Ø±ÙˆÛŒ Ø³Ø±ÙˆØ± Ø¯Ø± Ø­Ø§Ù„ Ø§Ø¬Ø±Ø§ Ø§Ø³Øª
- [ ] ØªØ³Øª Ø¨Ø§ curl Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯
- [ ] Ú©Ù„Ø§ÛŒÙ†Øª Ùˆ Ø§Ø¯Ù…ÛŒÙ† Ø¨Ù‡ API Ù…ØªØµÙ„ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯

---

## ðŸ†˜ Ø±ÙØ¹ Ù…Ø´Ú©Ù„Ø§Øª Ø±Ø§ÛŒØ¬

### Ø®Ø·Ø§: Connection refused
- Ú†Ú© Ú©Ù†ÛŒØ¯ Backend Ø±ÙˆÛŒ Ø³Ø±ÙˆØ± Ø¯Ø± Ø­Ø§Ù„ Ø§Ø¬Ø±Ø§ Ø¨Ø§Ø´Ø¯: `ps aux | grep backend`
- Ù„Ø§Ú¯ Backend Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯: `tail -f ~/antol/anti-detect-mvp/backend.log`

### Ø®Ø·Ø§: Connection timeout
- NSG rule Ø±Ø§ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ú†Ú© Ú©Ù†ÛŒØ¯
- Ù…Ø·Ù…Ø¦Ù† Ø´ÙˆÛŒØ¯ Priority Ú©Ù…ØªØ± Ø§Ø² rule Ù‡Ø§ÛŒ Deny Ø§Ø³Øª
- Ù…Ù†ØªØ¸Ø± Ø¨Ù…Ø§Ù†ÛŒØ¯ ØªØ§ rule Ú©Ø§Ù…Ù„Ø§Ù‹ Ø§Ø¹Ù…Ø§Ù„ Ø´ÙˆØ¯ (ØªØ§ 2 Ø¯Ù‚ÛŒÙ‚Ù‡)

### Backend Ù…ØªÙˆÙ‚Ù Ø´Ø¯Ù‡
```bash
# Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø³Ø±ÙˆØ±
ssh berellian@108.143.173.222

# Ø§Ø¬Ø±Ø§ÛŒ Ù…Ø¬Ø¯Ø¯
cd ~/antol/anti-detect-mvp/backend
DATABASE_URL="postgresql://antidetect_user:ABCDqwer1234@localhost:5432/antidetect_db" nohup ./target/release/backend > ../backend.log 2>&1 &
```

---

**Ø¢Ø¯Ø±Ø³ Ù†Ù‡Ø§ÛŒÛŒ API Ø´Ù…Ø§:**  
`http://108.143.173.222:3000`
